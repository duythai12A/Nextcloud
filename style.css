/* =========================================================
   vDrive Christmas Theme – FINAL (Readable)
   ========================================================= */

:root {
  /* Nhạt hơn bản trước */
  --christmas-bg: linear-gradient(
    135deg,
    #123026 0%,
    #1b4d34 35%,
    #6b1f1f 70%,
    #2a0b10 100%
  );

  --christmas-gold: #fbbf24;
  --christmas-red: #b91c1c;
  --christmas-green: #15803d;

  /* Overlay nền cho khu vực content: càng nhỏ càng nhạt */
  --christmas-overlay-opacity: 0.055;

  /* Snow */
  --snow-opacity: 0.85;
}

/* Nextcloud hay ăn biến ở body */
body,
body#body-user,
body#body-login {
  --image-background-default: var(--christmas-bg) !important;
}

/* =========================================================
   1) HEADER / TOPBAR (ăn chắc)
   ========================================================= */
#header,
#header .header-left,
#header .header-right {
  background-image: var(--christmas-bg) !important;
  background: var(--christmas-bg) !important;

  --background-image-invert-if-bright: no;
  --color-primary-text: #ffffff;
  --color-primary-element-text: #ffffff;
}

/* =========================================================
   2) LOGIN PAGE
   ========================================================= */
#body-login {
  background: var(--christmas-bg) !important;
  background-attachment: fixed !important;
}

/* =========================================================
   3) CONTENT BACKGROUND (đây là phần bạn đang thiếu)
   Đặt overlay phía SAU nội dung để KHÔNG làm mờ chữ
   ========================================================= */

/* tạo 1 lớp nền phía sau toàn UI */
body {
  position: relative;
}

/* overlay Noel rất nhạt */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  background: var(--christmas-bg);
  opacity: var(--christmas-overlay-opacity);
  pointer-events: none;
  z-index: 0; /* nằm dưới content */
}

/* đẩy các khối UI lên trên overlay */
#header { position: relative; z-index: 1000; }
#content,
#app-content,
#app-content-vue,
.app-content,
.app-content-wrapper {
  position: relative;
  z-index: 1;
  background: transparent !important; /* cho overlay hiện nhẹ */
}

/* =========================================================
   4) CARDS / PROFILE
   ========================================================= */
.preview-card__header,
.profile__primary-action-button {
  background-image: var(--christmas-bg) !important;
}

/* =========================================================
   5) FILES ICONS
   ========================================================= */
.files-list__row-icon .folder-icon svg {
  fill: var(--christmas-gold) !important;
}

.checkbox-radio-switch__icon svg {
  fill: var(--color-text-maxcontrast);
}

/* Active app indicator */
.app-menu-main .app-menu-entry.app-menu-entry__active::before {
  background-color: #fef3c7 !important;
}

/* =========================================================
   6) SNOW CANVAS
   ========================================================= */
#snow-canvas {
  pointer-events: none;
  position: fixed;
  inset: 0;
  z-index: 9999;
  opacity: var(--snow-opacity);
}
/* =========================================================
   LEFT SIDEBAR / APP NAVIGATION – force transparent/overlay
   ========================================================= */

/* Wrapper sidebar (nhiều phiên bản Nextcloud khác selector) */
#app-navigation,
#app-navigation-vue,
.app-navigation,
.app-navigation__content,
.app-navigation-main,
#app-navigation .app-navigation,
#app-navigation-vue .app-navigation {
  background: transparent !important;           /* cho overlay body::before hiện */
  background-color: transparent !important;
}

/* Một số bản có container riêng cho navigation */
.app-navigation-entry,
.app-navigation-entry__content,
.app-navigation-entry__title,
#app-navigation .app-navigation-entry {
  background: transparent !important;
}

/* Nếu bạn muốn sidebar có nền Noel nhạt riêng (thay vì “trong suốt”) */
#app-navigation,
#app-navigation-vue,
.app-navigation {
  background-image: var(--christmas-bg) !important;
  opacity: 1 !important;
}

/* Nhưng để chữ không bị mờ, dùng alpha bằng background-color thay vì opacity */
#app-navigation,
#app-navigation-vue,
.app-navigation {
  background-color: rgba(255, 255, 255, 0.00) !important; /* giữ chữ sắc */
}
